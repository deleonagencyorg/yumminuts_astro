---
import LazyImage from '../common/LazyImage.astro';
import { getLocale } from '../../i18n/i18n';

interface Props {
  image: string;
  title: string;
  time?: string;
  id: string;
  textColor?: string;
  iconColor?: string;
}

const { 
  image, 
  title, 
  time = "---", 
  id,
  textColor = 'text-black',
  iconColor = 'text-blue-900'
} = Astro.props;

const currentLocale = getLocale();
const recipeLink = `/${currentLocale}/${currentLocale === 'es' ? 'recetas' : 'recipes'}/${id}`;
---

<a 
  href={recipeLink} 
  class="flex flex-col gap-6 items-start group relative transition-all duration-300 hover:scale-[1.02] w-full max-w-[585px]"
  transition:animate="fade"
>
  <!-- Recipe Image -->
  <div class="h-[250px] md:h-[338px] w-full overflow-hidden relative rounded-[21px] group-hover:shadow-lg transition-shadow duration-300">
    <LazyImage
      src={image}
      alt={title}
      class="absolute inset-0 w-full h-full object-cover"
      transition:name={`recipe-image-${id}`}
    />
    <!-- Dark overlay on hover -->
    <div class="absolute inset-0 bg-black opacity-0 group-hover:opacity-40 transition-opacity duration-300"></div>
  </div>
  
  <!-- Recipe Title -->
  <h3 class={`font-text font-medium text-[20px] md:text-[28px] leading-[25px] md:leading-[35px] tracking-[-1.5px] ${textColor} group-hover:text-[#3e6dd7] transition-colors duration-300`}>
    {title}
  </h3>
</a>
