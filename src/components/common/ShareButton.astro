---
// src/components/common/ShareButton.astro
interface Props {
  modalId: string;
  lang?: 'es' | 'en';
  className?: string;
}

const { modalId, lang, className = '' } = Astro.props;

// Derivar idioma desde URL si no se pasa por props
const derivedLang = (lang || Astro.url.pathname.split('/')[1] || 'es') as 'es' | 'en';
const label = derivedLang === 'es' ? 'Compartir' : 'Share';
---
<button
  type="button"
  class={`flex items-center gap-2 bg-white text-primary font-bold px-4 py-2 rounded-full hover:opacity-90 transition ${className}`}
  onclick={`window.showShareModal && window.showShareModal('${modalId}')`}
>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none">
    <path d="M9.39713 5.30615H8.35547C5.40919 5.30615 3.93605 5.30615 3.02076 6.18483C2.10547 7.06351 2.10547 8.47772 2.10547 11.3062V15.3062C2.10547 18.1346 2.10547 19.5488 3.02076 20.4275C3.93605 21.3062 5.40919 21.3062 8.35547 21.3062H12.5621C15.5084 21.3062 16.9815 21.3062 17.8968 20.4275C18.4898 19.8582 18.6986 19.0641 18.7721 17.8062" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M16.1667 7.80615V4.6597C16.1667 4.46444 16.3316 4.30615 16.535 4.30615C16.6326 4.30615 16.7263 4.3434 16.7954 4.4097L21.5275 8.9526C21.7634 9.17897 21.8958 9.48601 21.8958 9.80615C21.8958 10.1263 21.7634 10.4333 21.5275 10.6597L16.7954 15.2026C16.7263 15.269 16.6326 15.3062 16.535 15.3062C16.3316 15.3062 16.1667 15.1479 16.1667 14.9526V11.8062H13.1157C8.875 11.8062 7.3125 15.3062 7.3125 15.3062V12.8062C7.3125 10.0447 9.64435 7.80615 12.5208 7.80615H16.1667Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
  {label}
</button>
