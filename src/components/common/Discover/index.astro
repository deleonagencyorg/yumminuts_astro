---
import { Image } from 'astro:assets';
import { getLocale } from '../../../i18n/i18n';
import esCommon from '../../../locales/es/common.json';
import enCommon from '../../../locales/en/common.json';

export interface Props {
  title: string;
  images: Array<{
    id: string;
    desktop: string;
    mobile: string;
    alt: string;
    title: string;
    description: string;
    link: string;
  }>;
}

const { title, images } = Astro.props;
const locale = getLocale(Astro.url.pathname) || 'es';

// Get Instagram posts from locale
const instagramPosts = locale === 'es' 
  ? esCommon.home.socialmedia.instagramPosts
  : enCommon.home.socialmedia.instagramPosts;
---


<div class="box-border flex flex-col gap-6 sm:gap-8 md:gap-10 lg:gap-12 items-start justify-start w-full max-w-[100vw] mx-auto py-4 sm:py-5 md:py-6 lg:py-8 px-3 sm:px-4 md:px-5 lg:px-6 bg-white overflow-x-hidden">
  <h2 class="font-heading leading-tight not-italic text-black text-2xl sm:text-3xl md:text-4xl lg:text-5xl tracking-tight text-left w-full px-2 sm:px-0 mb-1 sm:mb-4">
    {title}
  </h2>
 <div class="grid grid-cols-1 min-[150px]:grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-1.5 sm:gap-2 md:gap-2 lg:gap-3 w-full">
    {instagramPosts.map((post: any) => (
       <div class="w-full aspect-[8/18] min-[336px]:aspect-[8/16] sm:aspect-[7/14] overflow-hidden pb-0 rounded-lg rounded-xl sm:rounded-2xl  relative">
        <iframe
          src={post.embedUrl}
          class="w-full h-full border-0"
          allowtransparency="true"
          allowfullscreen
          frameborder="0"
          scrolling="no"
          style="height: 100%; min-height: 320px;"
        ></iframe>
      </div>
    ))}
  </div>
</div>



