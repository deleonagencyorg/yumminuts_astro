---
// src/components/common/Footer/index.astro
import { t, type Locale } from '../../../i18n/i18n';
import { logos } from '../../../config/assets';
import './styles.css';
import Skeleton from './Skeleton.astro';
import LazyImage from '../LazyImage.astro';
import { span } from 'framer-motion/m';

export interface Props {
  currentLang: Locale;
  loading?: boolean;
}

const { currentLang, loading = false } = Astro.props;

// Obtener textos del footer desde los archivos de traducciÃ³n
const mainText = t('footer.main_text', { namespace: 'common', locale: currentLang });
const description = t('footer.description', { namespace: 'common', locale: currentLang });
const followUs = t('footer.follow_us', { namespace: 'common', locale: currentLang });
const contactUs = t('footer.contact_us', { namespace: 'common', locale: currentLang });
const choose = t('footer.choose', { namespace: 'common', locale: currentLang });
const instagramText = t('footer.instagram_text', { namespace: 'common', locale: currentLang });
const facebookText = t('footer.facebook_text', { namespace: 'common', locale: currentLang });
const email = t('footer.email', { namespace: 'common', locale: currentLang });
const copyrightText = t('footer.copyright', { namespace: 'common', locale: currentLang });


// Social media URLs
const instagramUrl = t('social_media.instagram.url', { namespace: 'common', locale: currentLang });
const facebookUrl = t('social_media.facebook.url', { namespace: 'common', locale: currentLang });
const instagramIconUrl = t('social_media.instagram.iconUrl', { namespace: 'common', locale: currentLang });
const facebookIconUrl = t('social_media.facebook.iconUrl', { namespace: 'common', locale: currentLang });
const twitterUrl = t('social_media.twitter.url', { namespace: 'common', locale: currentLang });
const twitterIconUrl = t('social_media.twitter.iconUrl', { namespace: 'common', locale: currentLang });
const twitterText = t('social_media.twitter.text', { namespace: 'common', locale: currentLang });
const youtubeUrl = t('social_media.youtube.url', { namespace: 'common', locale: currentLang });
const youtubeIconUrl = t('social_media.youtube.iconUrl', { namespace: 'common', locale: currentLang });
const youtubeText = t('social_media.youtube.text', { namespace: 'common', locale: currentLang });

// Obtener el logo especÃ­fico de Zibas desde brands.json
const zibasLogo = 'https://snack.yummiespromociones.com/SnacksyummiesAssets/zibas-logo-3.webp';
---

{loading ? (
  <Skeleton />
) : (
  <footer class="bg-secondary text-primary relative overflow-hidden">
    <div class="container mx-auto px-6 py-8 md:py-8 flex flex-col md:flex-row items-start md:items-center justify-between">
      <div class="flex flex-col gap-12 items-start justify-start pl-2.5 pr-0 py-0 relative shrink-0 w-full md:w-1/2 lg:w-[670px]">
        <div class="font-title text-3xl md:text-4xl font-normal relative text-primary">
          {t('footer.newsletter', { namespace: 'common', locale: currentLang })}
        </div>
        
      </div>
      <div class="flex items-start justify-between pl-0 pr-2.5 py-0 relative shrink-0 w-full md:w-1/2 lg:w-[670px] mt-8 md:mt-0">
        <div class="flex flex-col gap-12 items-start justify-start relative shrink-0">
          <div class="font-title text-3xl md:text-4xl font-normal relative text-primary">
            {t('footer.home', { namespace: 'common', locale: currentLang })}
          </div>
          <div class="flex flex-col font-sans gap-6 items-start justify-start leading-relaxed not-italic relative shrink-0 text-primary text-lg">
            <a href={`/${currentLang}/products`} class="hover:underline">{t('footer.products', { namespace: 'common', locale: currentLang })}</a>
            <a href={`/${currentLang}/health`} class="hover:underline">{t('footer.health', { namespace: 'common', locale: currentLang })}</a>
            <a href={`/${currentLang}/news`} class="hover:underline">{t('footer.latest_news', { namespace: 'common', locale: currentLang })}</a>
            <a href={`/${currentLang}/contact`} class="hover:underline">{t('footer.contact', { namespace: 'common', locale: currentLang })}</a>
          </div>
        </div>
        <div class="flex flex-col gap-12 items-start justify-start relative shrink-0">
          <div class="font-title text-3xl md:text-4xl font-normal relative text-primary">
            {t('footer.support', { namespace: 'common', locale: currentLang })}
          </div>
          <div class="flex flex-col font-sans gap-6 items-start justify-start leading-relaxed not-italic relative shrink-0 text-primary text-lg">
            <a href="#" class="hover:underline">{t('footer.privacy_policy', { namespace: 'common', locale: currentLang })}</a>
            <a href="#" class="hover:underline">{t('footer.cookie_policy', { namespace: 'common', locale: currentLang })}</a>
            <a href="#" class="hover:underline">{t('footer.terms_conditions', { namespace: 'common', locale: currentLang })}</a>
            <a href="#" class="hover:underline">{t('footer.complaints_book', { namespace: 'common', locale: currentLang })}</a>
          </div>
        </div>
        <div class="flex flex-col gap-10 items-start justify-start relative shrink-0">
          <div class="font-title text-3xl md:text-4xl font-normal relative text-primary">
            {t('footer.help', { namespace: 'common', locale: currentLang })}
          </div>
          <div class="flex gap-4 items-center justify-start relative shrink-0">
            <a href={instagramUrl} target="_blank" rel="noopener noreferrer">
              <LazyImage src={instagramIconUrl} alt={instagramText} class="h-8 w-8" />
            </a>
            <a href={facebookUrl} target="_blank" rel="noopener noreferrer">
              <LazyImage src={facebookIconUrl} alt={facebookText} class="h-8 w-8" />
            </a>
            
          </div>
        </div>
      </div>
    </div>
    
    <div class="w-full border-t border-white border-[1.5px] mt-6 pt-6">
        <div class="container mx-auto">
          <div class="text-center mb-4">
            <h3 class="text-white  font-sans text-xl font-medium">DINANT - Contacto</h3>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-4 justify-items-center">
            <!-- Guatemala -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="Guatemala">ðŸ‡¬ðŸ‡¹</span>
              <span>(+502) 2502-7050</span>
            </div>
            <!-- El Salvador -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="El Salvador">ðŸ‡¸ðŸ‡»</span>
              <span>(+503) 2510-8300</span>
            </div>
            <!-- Costa Rica -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="Costa Rica">ðŸ‡¨ðŸ‡·</span>
              <span>(+506) 2234-7259</span>
            </div>
            <!-- RepÃºblica Dominicana -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="RepÃºblica Dominicana">ðŸ‡©ðŸ‡´</span>
              <span>01 809-273 1042</span>
            </div>
            <!-- Nicaragua -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="Nicaragua">ðŸ‡³ðŸ‡®</span>
              <span>2275-3370</span>
            </div>
            <!-- Honduras -->
            <div class="flex items-center space-x-2">
              <span class="text-2xl" role="img" aria-label="Honduras">ðŸ‡­ðŸ‡³</span>
              <span>(+505) 2255-7480</span>
            </div>
          </div>
        </div>
      </div>
  </footer>
)}

